type A = {
  integer x;
  invariant invA(this) = this.x != 0;
}

unit divide(A[0] this)
  behavior ok:
    assigns this.x;
    ensures this.x == 1;
{
  this.x = this.x / this.x;
}

type B = {
  A[0] i;
}

unit m(B[0] this)
  behavior ok:
    assigns this.i.x;
    ensures true;
{
  this.i.x = 0;
  divide(this.i); /* division by 0 */
}