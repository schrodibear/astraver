
parameter x : int ref

exception E

let p () =
  begin 
    x := 0;
    [ {} unit writes x raises E { x=1 | E => x@=0 -> x=2 } ];
    void
  end
  { x=0+1 | E => x=0+2 }

