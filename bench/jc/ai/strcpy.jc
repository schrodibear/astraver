
type charP = {
    integer charM;
}

logic integer strlen(charP[..] p) reads (p+[0..]).charM;

unit strcpy(charP[..] dest, charP[..] src) {  
    assert (0 <= strlen(src));
    integer i = 0;
    while ((src + i).charM != 0) ; {
	assert (i < strlen(src));
	(dest + i).charM = (src + i).charM;
	i = i + 1;
    }
    assert (i == strlen(src));
    (dest + i).charM = 0;
}


/*
Local Variables: 
mode: java
compile-command: "make strcpy"
End: 
*/
