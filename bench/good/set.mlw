
(* side effects in tests *)

parameter x : int ref

parameter f : 
  v:int -> {} bool writes x { x = v and if result then x = 0 else x <> 0 }

let p = {} if (f 0) then 1 else 2 { result = 1 }
