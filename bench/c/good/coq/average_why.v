(* This file was originally generated by why.
   It can be modified; only the generated parts will be overwritten. *)

Require Export caduceus_spec_why.

(* Why obligation from file "why/average.why", characters 325-354 *)
Lemma average_impl_po_1 : 
  forall (t: pointer),
  forall (n: Z),
  forall (alloc: alloc_table),
  forall (Pre7: (valid_range alloc t 0 n) /\ n > 0),
  forall (i: Z),
  forall (Post5: i = (any_int tt)),
  forall (sum: Z),
  forall (Post4: sum = 0),
  forall (i1: Z),
  forall (Post1: i1 = 0),
  forall (Variant1: Z),
  forall (i2: Z),
  forall (Pre5: Variant1 = (n - i2)),
  forall (Pre4: 0 <= i2 /\ i2 <= n),
  forall (Test2: i2 < n),
  forall (aux_1: pointer),
  forall (Post11: aux_1 = (shift t i2)),
  (valid alloc aux_1).
Proof.
intuition.
subst; auto.
Save.

(* Why obligation from file "why/average.why", characters 325-354 *)
Lemma average_impl_po_2 : 
  forall (t: pointer),
  forall (n: Z),
  forall (alloc: alloc_table),
  forall (intP: ((memory) Z)),
  forall (Pre7: (valid_range alloc t 0 n) /\ n > 0),
  forall (i: Z),
  forall (Post5: i = (any_int tt)),
  forall (sum: Z),
  forall (Post4: sum = 0),
  forall (i1: Z),
  forall (Post1: i1 = 0),
  forall (Variant1: Z),
  forall (i2: Z),
  forall (Pre5: Variant1 = (n - i2)),
  forall (Pre4: 0 <= i2 /\ i2 <= n),
  forall (Test2: i2 < n),
  forall (aux_1: pointer),
  forall (Post11: aux_1 = (shift t i2)),
  forall (Pre2: (valid alloc aux_1)),
  forall (result1: Z),
  forall (Post13: result1 = (acc intP aux_1)),
  (forall (i:Z),
   (i = (i2 + 1) -> (0 <= i /\ i <= n) /\ (Zwf 0 (n - i) (n - i2)))).
Proof.
intuition.
Save.

(* Why obligation from file "why/average.why", characters 242-273 *)
Lemma average_impl_po_3 : 
  forall (t: pointer),
  forall (n: Z),
  forall (alloc: alloc_table),
  forall (Pre7: (valid_range alloc t 0 n) /\ n > 0),
  forall (i: Z),
  forall (Post5: i = (any_int tt)),
  forall (sum: Z),
  forall (Post4: sum = 0),
  forall (i1: Z),
  forall (Post1: i1 = 0),
  0 <= i1 /\ i1 <= n.
Proof.
intuition.
Save.

(* Why obligation from file "why/average.why", characters 395-413 *)
Lemma average_impl_po_4 : 
  forall (t: pointer),
  forall (n: Z),
  forall (alloc: alloc_table),
  forall (Pre7: (valid_range alloc t 0 n) /\ n > 0),
  forall (i: Z),
  forall (Post5: i = (any_int tt)),
  forall (sum: Z),
  forall (Post4: sum = 0),
  forall (i1: Z),
  forall (Post1: i1 = 0),
  forall (i2: Z),
  forall (Post3: (0 <= i2 /\ i2 <= n) /\ i2 >= n),
  ~(n = 0).
Proof.
intuition.
Save.

(* Why obligation from file "why/average.why", characters 395-413 *)
Lemma average_impl_po_5 : 
  forall (t: pointer),
  forall (n: Z),
  forall (alloc: alloc_table),
  forall (intP: ((memory) Z)),
  forall (Pre7: (valid_range alloc t 0 n) /\ n > 0),
  forall (i: Z),
  forall (Post5: i = (any_int tt)),
  forall (sum: Z),
  forall (Post4: sum = 0),
  forall (i1: Z),
  forall (Post1: i1 = 0),
  forall (i2: Z),
  forall (sum1: Z),
  forall (Post3: (0 <= i2 /\ i2 <= n) /\ i2 >= n),
  forall (Pre6: ~(n = 0)),
  (min intP t n) <= ((Zdiv sum1 n)) /\ ((Zdiv sum1 n)) <= (max intP t n).
Proof.
intuition.
(* FILL PROOF HERE *)
Admitted.

(* Why obligation from file "why/average.why", characters 670-698 *)
Lemma min_impl_po_1 : 
  forall (t: pointer),
  forall (n: Z),
  forall (alloc: alloc_table),
  forall (Pre10: n > 0 /\ (valid_range alloc t 0 n)),
  forall (i: Z),
  forall (Post4: i = (any_int tt)),
  forall (aux_1: pointer),
  forall (Post9: aux_1 = (shift t 0)),
  (valid alloc aux_1).
Proof.
intuition.
subst; auto.
Save.

(* Why obligation from file "why/average.why", characters 670-698 *)
Lemma min_impl_po_2 : 
  forall (t: pointer),
  forall (n: Z),
  forall (alloc: alloc_table),
  forall (intP: ((memory) Z)),
  forall (Pre10: n > 0 /\ (valid_range alloc t 0 n)),
  forall (i: Z),
  forall (Post4: i = (any_int tt)),
  forall (aux_1: pointer),
  forall (Post9: aux_1 = (shift t 0)),
  forall (Pre1: (valid alloc aux_1)),
  forall (result: Z),
  forall (Post11: result = (acc intP aux_1)),
  (forall (i:Z), (i = 1 -> 1 <= i /\ i <= n)).
Proof.
intuition.
Save.

(* Why obligation from file "why/average.why", characters 845-874 *)
Lemma min_impl_po_3 : 
  forall (t: pointer),
  forall (n: Z),
  forall (alloc: alloc_table),
  forall (Pre10: n > 0 /\ (valid_range alloc t 0 n)),
  forall (i: Z),
  forall (Post4: i = (any_int tt)),
  forall (i1: Z),
  forall (Post1: i1 = 1),
  forall (Variant1: Z),
  forall (i2: Z),
  forall (Pre9: Variant1 = (n - i2)),
  forall (Pre8: 1 <= i2 /\ i2 <= n),
  forall (Test2: i2 < n),
  forall (aux_2: pointer),
  forall (Post15: aux_2 = (shift t i2)),
  (valid alloc aux_2).
Proof.
intuition.
subst; auto.
Save.

(* Why obligation from file "why/average.why", characters 845-874 *)
Lemma min_impl_po_4 : 
  forall (t: pointer),
  forall (n: Z),
  forall (alloc: alloc_table),
  forall (intP: ((memory) Z)),
  forall (Pre10: n > 0 /\ (valid_range alloc t 0 n)),
  forall (i: Z),
  forall (Post4: i = (any_int tt)),
  forall (i1: Z),
  forall (Post1: i1 = 1),
  forall (Variant1: Z),
  forall (i2: Z),
  forall (tmp1: Z),
  forall (Pre9: Variant1 = (n - i2)),
  forall (Pre8: 1 <= i2 /\ i2 <= n),
  forall (Test2: i2 < n),
  forall (aux_2: pointer),
  forall (Post15: aux_2 = (shift t i2)),
  forall (Pre4: (valid alloc aux_2)),
  forall (result1: Z),
  forall (Post17: result1 = (acc intP aux_2)),
  ((result1 < tmp1 ->
    (forall (result:pointer),
     (result = (shift t i2) ->
      (forall (result0:Z),
       (result0 = (acc intP result) ->
        (forall (i:Z),
         (i = (i2 + 1) -> (1 <= i /\ i <= n) /\ (Zwf 0 (n - i) (n - i2)))))) /\
      (valid alloc result))))) /\
  ((result1 >= tmp1 ->
    (forall (i:Z),
     (i = (i2 + 1) -> (1 <= i /\ i <= n) /\ (Zwf 0 (n - i) (n - i2)))))).
Proof.
intuition.
subst; auto.
Save.

(* Why obligation from file "why/average.why", characters 1011-1015 *)
Lemma min_impl_po_5 : 
  forall (t: pointer),
  forall (n: Z),
  forall (alloc: alloc_table),
  forall (intP: ((memory) Z)),
  forall (Pre10: n > 0 /\ (valid_range alloc t 0 n)),
  forall (i: Z),
  forall (Post4: i = (any_int tt)),
  forall (i1: Z),
  forall (Post1: i1 = 1),
  forall (i2: Z),
  forall (tmp1: Z),
  forall (Post3: (1 <= i2 /\ i2 <= n) /\ i2 >= n),
  (is_min alloc intP t n tmp1).
Proof.
intuition.
Admitted.


