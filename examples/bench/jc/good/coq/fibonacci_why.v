(* This file was originally generated by why.
   It can be modified; only the generated parts will be overwritten. *)
Require Export jessie_why.

(*Why inductive*) Inductive isfib  : Z -> Z -> Prop 
  := | isfib0 : (isfib 0 0)
     
     | isfib1 : (isfib 1 1)
     
     | isfibn : (forall (n_2:Z),
                 (forall (r_0:Z),
                  (forall (p:Z),
                   (n_2 >= 2 /\ (isfib (n_2 - 2) r_0) /\
                    (isfib (n_2 - 1) p) -> (isfib n_2 (p + r_0))))))
     .

(* Why obligation from file "/home/cmarche/recherche/why/bench/jc/good/fibonacci.jc", line 10, characters 0-34: *)
(*Why goal*) Lemma test_inversion : 
  ~(isfib 0 1).
Proof.
intro H; inversion H; intuition.
Save.

(*Why axiom*) Lemma test_inversion_as_axiom : ~(isfib 0 1).
apply test_inversion.
Qed.

(* Why obligation from file "/home/cmarche/recherche/why/bench/jc/good/fibonacci.jc", line 21, characters 14-58: *)
(*Why goal*) Lemma Fib_ensures_default_po_1 : 
  forall (n_1: Z),
  forall (HW_1: (* JC_3 *) n_1 >= 0),
  (* JC_9 *) (0 <= 0 /\ 0 <= n_1 /\ (isfib (0 + 1) 1) /\ (isfib 0 0)).
Proof.
intuition.
apply isfib1.
apply isfib0.
Save.

(* Why obligation from file "/home/cmarche/recherche/why/bench/jc/good/fibonacci.jc", line 21, characters 14-58: *)
(*Why goal*) Lemma Fib_ensures_default_po_2 : 
  forall (n_1: Z),
  forall (HW_1: (* JC_3 *) n_1 >= 0),
  forall (i: Z),
  forall (x_0: Z),
  forall (y: Z),
  forall (HW_4: (* JC_9 *) (0 <= i /\ i <= n_1 /\ (isfib (i + 1) x_0) /\
                (isfib i y))),
  forall (HW_6: i < n_1),
  forall (tmp: Z),
  forall (HW_7: tmp = y),
  forall (y0: Z),
  forall (HW_8: y0 = x_0),
  forall (x_0_0: Z),
  forall (HW_9: x_0_0 = (x_0 + tmp)),
  forall (i0: Z),
  forall (HW_10: i0 = (i + 1)),
  (* JC_9 *) (0 <= i0 /\ i0 <= n_1 /\ (isfib (i0 + 1) x_0_0) /\
  (isfib i0 y0)).
Proof.
intros; subst; intuition.
apply isfibn.
replace (i+1+1-2) with i; auto with zarith.
replace (i+1+1-1) with (i+1); auto with zarith.
Save.

(* Why obligation from file "/home/cmarche/recherche/why/bench/jc/good/fibonacci.jc", line 15, characters 14-30: *)
(*Why goal*) Lemma Fib_ensures_default_po_3 : 
  forall (n_1: Z),
  forall (HW_1: (* JC_3 *) n_1 >= 0),
  forall (i: Z),
  forall (x_0: Z),
  forall (y: Z),
  forall (HW_4: (* JC_9 *) (0 <= i /\ i <= n_1 /\ (isfib (i + 1) x_0) /\
                (isfib i y))),
  forall (HW_11: i >= n_1),
  forall (why__return: Z),
  forall (HW_12: why__return = y),
  (* JC_5 *) (isfib n_1 why__return).
Proof.
intros.
assert (i=n_1); auto with zarith.
subst; intuition.
Save.

